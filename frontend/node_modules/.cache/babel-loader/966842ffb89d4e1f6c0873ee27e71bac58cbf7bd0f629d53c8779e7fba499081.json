{"ast":null,"code":"import React,{useEffect,useState}from'react';import AuthForm from'./components/AuthForm';import TaskForm from'./components/TaskForm';import TaskList from'./components/TaskList';import{getTasks,addTask,updateTask,deleteTask}from'./api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function App(){const[authed,setAuthed]=useState(!!localStorage.getItem('token'));const[tasks,setTasks]=useState([]);const[editing,setEditing]=useState(null);const load=async()=>{try{const data=await getTasks();setTasks(data);}catch(err){console.error(err);setTasks([]);}};useEffect(()=>{if(authed)load();},[authed]);const handleAdd=async payload=>{const t=await addTask(payload);setTasks(prev=>[t,...prev]);};const handleUpdate=async payload=>{const t=await updateTask(payload._id,payload);setTasks(prev=>prev.map(p=>p._id===t._id?t:p));setEditing(null);};const handleToggle=async task=>{const t=await updateTask(task._id,{completed:!task.completed});setTasks(prev=>prev.map(p=>p._id===t._id?t:p));};const handleDelete=async task=>{await deleteTask(task._id);setTasks(prev=>prev.filter(p=>p._1d!==task._id&&p._id!==task._id));};if(!authed)return/*#__PURE__*/_jsx(AuthForm,{onAuth:()=>setAuthed(true)});return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsxs(\"header\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Task Manager\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>{localStorage.removeItem('token');setAuthed(false);},children:\"Logout\"})})]}),/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsx(TaskForm,{onAdd:handleAdd,editing:editing,onUpdate:handleUpdate,onCancel:()=>setEditing(null)}),/*#__PURE__*/_jsx(TaskList,{tasks:tasks,onToggle:handleToggle,onEdit:setEditing,onDelete:handleDelete})]})]});}","map":{"version":3,"names":["React","useEffect","useState","AuthForm","TaskForm","TaskList","getTasks","addTask","updateTask","deleteTask","jsx","_jsx","jsxs","_jsxs","App","authed","setAuthed","localStorage","getItem","tasks","setTasks","editing","setEditing","load","data","err","console","error","handleAdd","payload","t","prev","handleUpdate","_id","map","p","handleToggle","task","completed","handleDelete","filter","_1d","onAuth","className","children","onClick","removeItem","onAdd","onUpdate","onCancel","onToggle","onEdit","onDelete"],"sources":["C:/Users/Harshal/Desktop/Vexocore/task-manager-app/frontend/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport AuthForm from './components/AuthForm';\nimport TaskForm from './components/TaskForm';\nimport TaskList from './components/TaskList';\nimport { getTasks, addTask, updateTask, deleteTask } from './api';\n\nexport default function App(){\n  const [authed, setAuthed] = useState(!!localStorage.getItem('token'));\n  const [tasks, setTasks] = useState([]);\n  const [editing, setEditing] = useState(null);\n\n  const load = async ()=>{\n    try{\n      const data = await getTasks();\n      setTasks(data);\n    }catch(err){\n      console.error(err);\n      setTasks([]);\n    }\n  }\n\n  useEffect(()=>{ if (authed) load(); }, [authed]);\n\n  const handleAdd = async (payload) =>{\n    const t = await addTask(payload);\n    setTasks(prev => [t, ...prev]);\n  }\n  const handleUpdate = async (payload) =>{\n    const t = await updateTask(payload._id, payload);\n    setTasks(prev => prev.map(p => p._id === t._id ? t : p));\n    setEditing(null);\n  }\n  const handleToggle = async (task) =>{\n    const t = await updateTask(task._id, { completed: !task.completed });\n    setTasks(prev => prev.map(p => p._id === t._id ? t : p));\n  }\n  const handleDelete = async (task) =>{\n    await deleteTask(task._id);\n    setTasks(prev => prev.filter(p => p._1d !== task._id && p._id !== task._id));\n  }\n\n  if (!authed) return <AuthForm onAuth={()=>setAuthed(true)} />;\n\n  return (\n    <div className=\"app\">\n      <header>\n        <h1>Task Manager</h1>\n        <div>\n          <button onClick={()=>{ localStorage.removeItem('token'); setAuthed(false); }}>Logout</button>\n        </div>\n      </header>\n\n      <main>\n        <TaskForm onAdd={handleAdd} editing={editing} onUpdate={handleUpdate} onCancel={()=>setEditing(null)} />\n        <TaskList tasks={tasks} onToggle={handleToggle} onEdit={setEditing} onDelete={handleDelete} />\n      </main>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}